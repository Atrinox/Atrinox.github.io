---

title: "[BOJ] 분해합 (2231)"
date: 2025-09-09 14:30:00 +0900
categories: [BOJ]
tags: [BOJ, 구현, 수학, 브루트포스]
math: true
excerpt: "자연수 N의 가장 작은 생성자를 찾는 문제. 자릿수 합의 최대치(9×자릿수)로 탐색 구간을 줄이는 아이디어."
---
![분해합](https://github.com/user-attachments/assets/787949dc-9907-4df2-9b27-dd9b6dbbd7d4)

## [백준 2231 — 분해합](https://www.acmicpc.net/problem/2231)

자연수 $M$의 **분해합**은 $M + S(M)$ (여기서 $S(M)$은 자릿수 합).
주어진 $N$에 대해 분해합이 $N$이 되는 **가장 작은 생성자** $M$을 구한다. 없으면 0을 출력.

---

## 풀이 아이디어

* 자릿수가 $k$인 수의 자릿수 합 최댓값은 **$9k$**.
* 따라서 생성자 $M$은 아래 범위만 보면 충분:

  $$
  \text{start}=\max(1,\,N-9k), \quad \text{end}=N-1
  $$
* 작은 $M$부터 순회하며 $M + S(M) = N$이 되는 첫 값을 출력하면 “가장 작은 생성자” 보장.
* 없다면 0.

---

## 예시

* $N=216$, $k=3\Rightarrow 9k=27$: **189 \~ 215**만 확인 → $198 + (1+9+8)=216$.
* $N=1000$, $k=4\Rightarrow 9k=36$: **964 \~ 999**만 확인 → $977 + (9+7+7)=1000$.

---

## 시행착오 

* **하한 계산 착오**: $(k-1)\times 9$로 잡아 범위를 좁혀 작은 생성자를 놓침 → \*\*$9k$\*\*가 맞다.
* **상한 포함 실수**: 루프 조건을 잘못 잡아 **$N-1$** 후보를 스킵함 → **포함**해야 한다.
* **루프 변수 덮어쓰기**: `for`의 `i`를 중간에 다른 값으로 바꿔 흐름 꼬임 → **루프 변수는 건드리지 않기**.
* **자릿수 합 계산에서 원본 파괴**: 후보를 직접 나누어 깎아 비교 시 원본이 사라짐 → **복사본으로 자릿수 합 계산**.
* **불필요한 재대입**: `digit = 0` 같은 무의미한 초기화는 제거.

---

## 코드


```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

public class Main {
    private static int digitSum(int x) {
        int s = 0;
        while (x > 0) {
            s += x % 10;
            x /= 10;
        }
        return s;
    }

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int n = Integer.parseInt(br.readLine());

        int len = 0, tmp = n;
        while (tmp > 0) {
            tmp /= 10;
            len++;
        }

        int start = Math.max(1, n - len * 9);

        for (int i = start; i < n; i++) {
            if (i + digitSum(i) == n) {
                System.out.println(i);
                return;
            }
        }
        System.out.println(0);
    }
}

```

---

## 정리

핵심은 **탐색 구간 축소**: $N-9k \sim N-1$만 보면 되고, 작은 후보부터 검사하면 첫 매칭이 곧 답.
자릿수 합은 “10으로 나누며 나머지 더하기”가 가장 직관적이며 빠르다.
